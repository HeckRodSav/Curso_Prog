//...
while(b!=0)
{
	X = a>b?a:b;
	Y = a<b?a:b;
	a = X-Y;
	b = Y;
}
//...